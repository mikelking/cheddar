function gppButtonDisable(e,i){jQuery(e).attr("disabled","disabled"),jQuery(i).css("visibility","visible")}function gppButtonEnable(e,i){jQuery(e).removeAttr("disabled"),jQuery(i).css("visibility","hidden")}function gppResetValues(){jQuery('input[type="text"]').val(""),jQuery("input.gppro-picker").val(""),jQuery("input.gppro-color-value").val(""),jQuery("a.wp-color-result").removeAttr("style"),jQuery("select.gppro-dropdown-group").val("")}function gppValidateURL(e){return/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}function gppAdjustTextarea(e){var i=jQuery(e);i.height(50).height(i[0].scrollHeight),jQuery(e).on("keyup",function(){(i=jQuery(e)).height(50).height(i[0].scrollHeight)})}function gppPreviewProcess(e){if(""===e&&(e=adminData.basepreview),!1===gppValidateURL(e))return!1;gppPreviewReload(e)}function gppClosePickers(e){jQuery("div.wp-picker-active").not(e).find("a.wp-color-result").trigger("click")}function gppWidgetSwap(e){jQuery("div.gppro-section-support_section").find("div.gppro-support-input").replaceWith(e)}function gppSupportFields(e){jQuery(e).find("input#gppro-support-name").focus(function(){jQuery(e).find("p.support-error").remove(),jQuery(e).find("input#gppro-support-name").removeClass("user-error")}),jQuery(e).find("input#gppro-support-email").focus(function(){jQuery(e).find("p.support-error").remove(),jQuery(e).find("input#gppro-support-email").removeClass("user-error")}),jQuery(e).find("textarea#gppro-support-text").focus(function(){jQuery(e).find("p.support-error").remove(),jQuery(e).find("textarea#gppro-support-text").removeClass("user-error")})}function gppSupportSuccess(e,i){jQuery("div.gppro-support-input").find("p.gppro-support-prompt").hide(),jQuery(e).replaceWith('<p class="support-success">'+i+"</p>")}function gppTooltips(e,i){jQuery(".gppro-tip").each(function(){tipBlock=jQuery(this),tipText=jQuery(this).data("tip"),jQuery(this).tooltip({content:tipText,items:tipBlock,position:{my:e,at:i},open:function(e,i){screenfull.enabled&&screenfull.isFullscreen&&jQuery(i.tooltip).appendTo(jQuery("div.gppro-wrap"))}})})}function gppLoadPicker(e,i,p,t){jQuery(p).wpColorPicker({palettes:t,change:function(p,t){gppPreviewTarget=jQuery(i).data("target"),gppPreviewSelector=jQuery(i).data("selector"),gppPreviewView=jQuery(i).data("view"),pickerHex=jQuery(this).wpColorPicker("color"),1===jQuery(i).data("css-important")&&(pickerHex+=" !important"),jQuery(e).find("input.gppro-color-value").val(pickerHex),jQuery("div.gppro-frame-wrap").is(":visible")&&gppColorPreview(gppPreviewTarget,gppPreviewSelector,gppPreviewView,pickerHex)}})}function gppLoadSlider(e,i,p,t){""!==jQuery(e).data("min")&&(gppPreviewMin=jQuery(e).data("min")),""!==jQuery(e).data("max")&&(gppPreviewMax=jQuery(e).data("max")),""!==jQuery(e).data("step")&&(gppPreviewStep=jQuery(e).data("step")),""!==jQuery(i).val()&&(gppPreviewCurr=jQuery(i).val()),jQuery(t).slider({value:gppPreviewCurr,min:gppPreviewMin,max:gppPreviewMax,step:gppPreviewStep,slide:function(e,t){if(gppPreviewTarget=jQuery(i).data("target"),gppPreviewSelector=jQuery(i).data("selector"),gppPreviewSuffix=jQuery(i).data("suffix"),gppPreviewMediaQ=jQuery(i).data("media-query"),gppPreviewValue=t.value+gppPreviewSuffix,1===jQuery(i).data("css-important")&&(gppPreviewValue+=" !important"),jQuery(p).html(t.value+gppPreviewSuffix),jQuery(i).val(t.value),jQuery("div.gppro-frame-wrap").is(":visible")){if(""===gppPreviewTarget||void 0===gppPreviewTarget)return;gppScaledPreview(gppPreviewTarget,gppPreviewSelector,gppPreviewValue,gppPreviewMediaQ)}}})}function gppAdminMessage(e,i){jQuery("div.gppro-wrap").prepend('<div class="gppro-admin-message gppro-message-hidden '+i+'"><p>'+e+"</p></div>"),jQuery("div.gppro-admin-message").fadeIn(700,function(){jQuery("div.gppro-admin-message").removeClass("gppro-message-hidden")}),setTimeout(function(){jQuery("div.gppro-admin-message").fadeOut(700,function(){jQuery(this).remove()})},3e3)}function gppKillPluginBanners(){jQuery("div.yoast-notice").fadeOut(700,function(){jQuery(this).remove()})}jQuery(document).ready(function(e){e.fn.divExists=function(e){var i=[].slice.call(arguments,1);return this.length&&e.call(this,i),this};var i,p,t,r,a,o,s,n,d,u,g,c,l,v,f,m,h,w,y,F,j,Q,b,D,k,P,x,C,S,_,E=adminData.colorchoice,A=adminData.gfontlink,z=adminData.errormessage,T=adminData.clearconfirm,B=adminData.base_font_size,R=adminData.use_rems,q=(e("div.gppro-preview-url-input").find("input.gppro-user-preview-url").val(),adminData.tooltip_my),M=adminData.tooltip_at,U=null,O="",N="",J=1,L=!1,V=e("form.gppro-support-form");setTimeout(function(){gppKillPluginBanners()},1500),e("textarea.textarea-expand").each(function(){gppAdjustTextarea(e(this))}),e("div.gppro-settings-wrapper").divExists(function(){t=e("div.gppro-tabs").height(),e("div.gppro-section-single").each(function(){e(this).css("min-height",t)})}),e("div.gppro-wrap").divExists(function(){setTimeout(function(){e("div.gppro-admin-update").fadeOut(700,function(){e(this).remove()})},3500)}),gppTooltips(q,M),e("div#message").divExists(function(){e("body").addClass("gppro-message-displayed"),e("div.gppro-wrap").on("click",".notice-dismiss",function(){e("body").removeClass("gppro-message-displayed")})}),e("div.gppro-options").divExists(function(){e("div.gppro-options").addClass("loading"),r=e("div.gppro-tabs").find("li.tab-active a").data("section"),a=e("div.gppro-sections").find("div.gppro-section-"+r),e(a).addClass("gppro-section-active").show(),e("div.gppro-sections").find("div.gppro-section-single").not(a).removeClass("gppro-section-active").hide(),e("div.gppro-section-active div.gppro-color-wrap").each(function(){o=e(this),s=e(this).find("input.gppro-color-value"),n=e(this).find("input.gppro-picker"),gppLoadPicker(o,s,n,E)}),e("div.gppro-section-active div.gppro-spacing-wrap").each(function(){d=e(this),u=e(this).find("input.gppro-spacing-value"),g=e(this).find("span.gppro-slider-value"),c=e(this).find("span.gppro-slider"),gppLoadSlider(d,u,g,c)}),e("div.gppro-options").removeClass("loading"),e("div.gppro-tabs").on("click","li.tab-single a",function(i){i.preventDefault(),e("div.gppro-options").hasClass("loading")||(e("div.gppro-options").addClass("loading"),r=e(this).data("section"),a=e("div.gppro-sections").find("div.gppro-section-"+r),e("li.tab-single").removeClass("tab-active"),e(this).parent("li.tab-single").addClass("tab-active"),e("div.gppro-sections").find("div.gppro-section-single").not(a).removeClass("gppro-section-active").hide(),e(a).addClass("gppro-section-active").fadeIn(600),e("div.gppro-section-active div.gppro-color-wrap").each(function(){o=e(this),s=e(this).find("input.gppro-color-value"),n=e(this).find("input.gppro-picker"),gppLoadPicker(o,s,n,E)}),e("div.gppro-section-active div.gppro-spacing-wrap").each(function(){d=e(this),u=e(this).find("input.gppro-spacing-value"),g=e(this).find("span.gppro-slider-value"),c=e(this).find("span.gppro-slider"),gppLoadSlider(d,u,g,c)}),e("div.gppro-options").removeClass("loading"))})}),e("div.gppro-stack-input").on("change","select",function(){e("div.gppro-frame-wrap").is(":visible")&&""!==(m=e(this).data("target"))&&void 0!==m&&(h=e(this).data("selector"),w=e(this).data("media-query"),y=e(this).find("option:selected").data("family"),F=e(this).find("option:selected").data("source"),"none"!==(j=e(this).find("option:selected").data("cssval"))&&(U='<link href="'+A+j+'" rel="stylesheet" type="text/css">'),1===e(this).data("css-important")&&(y+=" !important"),gppStackPreview(m,h,y,F,U,w))}),e("div.gppro-font-size-input").on("input",".gppro-font-number",function(){e("div.gppro-frame-wrap").is(":visible")&&""!==(m=e(this).data("target"))&&void 0!==m&&(h=e(this).data("selector"),w=e(this).data("media-query"),y=e(this).val(),isNaN(parseInt(y,10))||(Q=y+"px",b=!!R&&y/B+"rem",1===e(this).data("css-important")&&(y+=" !important"),gppFontSizePreview(m,h,Q,b,w)))}),e("div.gppro-radio-input").on("change","input.gppro-radio",function(){e("div.gppro-frame-wrap").is(":visible")&&""!==(m=e(this).data("target"))&&void 0!==m&&(h=e(this).data("selector"),w=e(this).data("media-query"),y=e(this).data("value"),1===e(this).data("css-important")&&(y+=" !important"),gppStandardPreview(m,h,y,w))}),e("div.gppro-dropdown-input").on("change","select.gppro-dropdown-item",function(){e("div.gppro-frame-wrap").is(":visible")&&""!==(m=e(this).data("target"))&&void 0!==m&&(h=e(this).data("selector"),w=e(this).data("media-query"),y=e(this).find("option:selected").val(),1===e(this).data("css-important")&&(y+=" !important"),gppStandardPreview(m,h,y,w))}),e("div.gppro-checkbox-input").on("change","input.gppro-checkbox-item",function(){e("div.gppro-frame-wrap").is(":visible")&&""!==(m=e(this).data("target"))&&void 0!==m&&(h=e(this).data("selector"),w=e(this).data("media-query"),y=e(this).find(":checked").val(),1===e(this).data("css-important")&&(y+=" !important"),gppStandardPreview(m,h,y,w))}),e("div.gppro-url-input").each(function(){if(e("div.gppro-frame-wrap").is(":visible")){if(f=e(this).find("input.gppro-url-item"),"user-preview-url"==e(f).attr("id"))return!1;if(""!==(m=e(f).data("target"))&&void 0!==m){if(h=e(f).data("selector"),w=e(f).data("media-query"),""===m||""===h)return!1;e(f).keyup(function(){y=e(this).val(),gppStandardPreview(m,h,y,w)})}}}),e("h4.section-title").each(function(){var i=e(this).parent("div.gppro-input-column"),p=e(this).find("span.gppro-section-trigger"),t=e(p).data("position");"open"==t&&e(i).find("div.gppro-input-group div.gppro-input").slideDown("slow"),"close"==t&&e(i).find("div.gppro-input-group div.gppro-input").slideUp("slow"),e(this).on("click","span.gppro-section-trigger",function(p){var t=e(this).data("position");"open"==t&&(e(this).data("position","close"),e(this).addClass("dashicons-arrow-down"),e(this).removeClass("dashicons-arrow-up"),e(i).find("div.gppro-input-group div.gppro-input").slideUp("slow")),"close"==t&&(e(this).data("position","open"),e(this).removeClass("dashicons-arrow-down"),e(this).addClass("dashicons-arrow-up"),e(i).find("div.gppro-input-group div.gppro-input").slideDown("slow"))})}),e("h5.gppro-divider-title").each(function(){var i=e(this).parents("div.gppro-divider-input"),p=e(this).find("span.gppro-section-trigger"),t=e(p).data("position");"open"==t&&e(i).nextUntil("div.gppro-divider-input").slideDown("slow"),"close"==t&&e(i).nextUntil("div.gppro-divider-input").slideUp("slow"),e(this).on("click","span.gppro-section-trigger",function(p){var t=e(this).data("position");"open"==t&&(e(this).data("position","close"),e(this).addClass("dashicons-arrow-down"),e(this).removeClass("dashicons-arrow-up"),e(i).nextUntil("div.gppro-divider-input").slideUp("slow")),"close"==t&&(e(this).data("position","open"),e(this).addClass("dashicons-arrow-up"),e(this).removeClass("dashicons-arrow-down"),e(i).nextUntil("div.gppro-divider-input").slideDown("slow"))})}),e("li.gppro-user-action-save").on("click","span.gppro-preview-save",function(){e("div.gppro-actions-top").find("input.gppro-save").trigger("click")}),e("div.gppro-preview-url-input").on("click","input.gppro-preview-reload",function(){if(""!==(O=e(this).data("nonce"))){""!==(N=e("div.gppro-preview-url-input input.gppro-user-preview-url").val())&&void 0!==N||gppPreviewProcess(adminData.basepreview);var i={action:"set_preview",nonce:O,preview:N};jQuery.post(ajaxurl,i,function(e){var i;try{i=jQuery.parseJSON(e)}catch(e){return!1}!0===i.success&&""!==i.preview&&gppPreviewProcess(i.preview)})}}),e("div.gppro-checkbox-input").on("change","input#user-preview-type",function(){var i={action:"set_user_logged",logged:!!e(this).is(":checked")};jQuery.post(ajaxurl,i,function(e){var i;try{i=jQuery.parseJSON(e)}catch(e){return!1}!0===i.success&&gppPreviewRefresh()})}),e("ul.scale-button-block").on("click","span.gppro-scale-icon",function(){D=e(this).data("increment"),k=e(this).data("scaletype"),J=e(this).data("currscale"),"in"==k&&(P=J+D),"out"==k&&(P=J-D),"reset"==k&&(P=1),e("div.gppro-frame-wrap iframe").css({"-moz-transform":"scale("+P+")","-webkit-transform":"scale("+P+")","-o-transform":"scale("+P+")","-ms-transform":"scale("+P+")",transform:"scale("+P+")"}),e("ul.scale-button-block span.gppro-scale-icon").each(function(){e(this).data("currscale",P)})}),e("div.gppro-preview-actions").on("click","span.gppro-preview-refresh",function(){e("div.gppro-preview-actions").find("span").attr("disabled","disabled"),gppPreviewFader(),gppPreviewRefresh(),e("div.gppro-preview-actions").find("span").removeAttr("disabled")}),e("div.gppro-actions").on("click","input.gppro-save",function(i){i.preventDefault(),e("div#wpbody div#message").remove(),e("div#wpbody div#setting-error-settings_updated").remove(),gppPreviewFader(),gppButtonDisable("input.gppro-save","img.gppro-save-process");var p=e("div.gppro-actions").find("input#gppro_save_nonce").val();if(""===p||void 0===p)return gppPreviewFaderRemove(),gppButtonEnable("input.gppro-save","img.gppro-save-process"),!1;l={},v=[],e("div.gppro-sections input.gppro-value").each(function(){""!==e(this).val()&&(l[e(this).attr("id")]=e(this).val()),1===e(this).data("always")&&v.push(e(this).attr("id"))}),e("div.gppro-sections select.gppro-font-stack").each(function(){""!==e(this).val()&&(l[e(this).attr("id")]=e(this).val()),1===e(this).data("always")&&v.push(e(this).attr("id"))}),e("div.gppro-sections input.gppro-font-number").each(function(){""!==e(this).val()&&(l[e(this).attr("id")]=e(this).val()),1===e(this).data("always")&&v.push(e(this).attr("id"))}),e("div.gppro-sections select.gppro-dropdown-item").each(function(){""!==e(this).val()&&(l[e(this).attr("id")]=e(this).val()),1===e(this).data("always")&&v.push(e(this).attr("id"))}),e("div.gppro-sections input.gppro-radio:checked").each(function(){""!==e(this).val()&&(l[e(this).data("field")]=e(this).val()),1===e(this).data("always")&&v.push(e(this).data("field"))}),e("div.gppro-sections input.gppro-checkbox:checked").each(function(){""!==e(this).val()&&(l[e(this).attr("id")]=e(this).val()),1===e(this).data("always")&&v.push(e(this).attr("field"))}),e('div.gppro-sections input[type="url"]').each(function(){l[e(this).attr("id")]=e(this).val()}),e("div.gppro-sections textarea").each(function(){""!==e(this).val()&&(l[e(this).attr("id")]=e(this).val())}),v=""!==v?v.join("|"):"","serialize"==adminData.perhapsSerial&&(l=jQuery.param(l),l=decodeURIComponent(l));var t={action:"save_styles",nonce:p,always:v,choices:l};jQuery.post(ajaxurl,t,function(e){var i;gppButtonEnable("input.gppro-save","img.gppro-save-process");try{i=jQuery.parseJSON(e)}catch(e){return gppAdminMessage("There was an error parsing your data.","gppro-admin-message-fail"),gppPreviewFaderRemove(),!1}!0===i.success?(gppAdminMessage(i.message,"gppro-admin-message-success"),gppPreviewRefresh(),gppLinkReset(),gppPreviewFaderRemove()):!1===i.success&&null!==i.message?(gppAdminMessage(i.message,"gppro-admin-message-fail"),gppPreviewFaderRemove()):(gppAdminMessage("There was an error with your request.","gppro-admin-message-fail"),gppPreviewFaderRemove())})}),e("div.gppro-button-label").on("click","input.gppro-clear",function(i){if(confirm(T)){i.preventDefault(),e("div#wpbody div#message").remove(),e("div#wpbody div#setting-error-settings_updated").remove(),gppButtonDisable(e(this),e(this).prev("img.gppro-processing"));var p=e("div.gppro-button-input").find("input#gppro_reset_nonce").val();""!==p&&gppButtonEnable(e(this),e(this).prev("img.gppro-processing"));var t={action:"clear_styles",nonce:p};jQuery.post(ajaxurl,t,function(i){var p;gppButtonEnable(e(this),e(this).prev("img.gppro-processing"));try{p=jQuery.parseJSON(i)}catch(e){gppAdminMessage(z,"gppro-admin-message-fail")}!0===p.success?(gppResetValues(),gppAdminMessage(p.message,"gppro-admin-message-success"),setTimeout(function(){window.location.href=p.redirect},400)):gppAdminMessage(p.message,"gppro-admin-message-fail")})}});var H=!1,$=!1;e("body.gppro-admin-page").keydown(function(i){17===i.keyCode&&($=!0),18===i.keyCode&&(H=!0),68===i.keyCode&&H&&$&&e("div.gppro-button-input").find("input.gppro-clear").trigger("click"),83===i.keyCode&&H&&$&&e("div.gppro-actions").find("input.gppro-save").trigger("click"),82===i.keyCode&&H&&$&&e("div.preview-viewports").find("span.gppro-fullscreen").trigger("click"),67===i.keyCode&&H&&$&&e("div.preview-viewports").find("span.gppro-clear").trigger("click"),82===i.keyCode&&H&&$&&e("div.preview-viewports").find("span.gppro-viewport-refresh").trigger("click")}),e("body.gppro-admin-page").keyup(function(e){H=!1,$=!1}),e("div.gppro-admin-warning").on("click","span.ignore",function(){var i={action:"ignore_warning",child:p=e(this).data("child")};jQuery.post(ajaxurl,i,function(i){var t;try{t=jQuery.parseJSON(i)}catch(e){return!1}if(!0!==t.success)return!1;e("div#wpbody").find("div.gppro-admin-warning-"+p).slideUp(400,function(){var i=e(this).outerHeight(!0),p=e("div.gppro-preview-fixed").offset().top;jQuery("div.gppro-preview-fixed").css("top",parseFloat(p)-parseFloat(i)),e(this).remove()})})}),e("div.gppro-admin-warning").on("click","span.webfont-ignore",function(i){i.preventDefault();jQuery.post(ajaxurl,{action:"ignore_webfont"},function(i){var p;try{p=jQuery.parseJSON(i)}catch(e){return!1}if(!0!==p.success)return!1;e("div#wpbody").find("div.gppro-admin-warning-webfonts").slideUp(400,function(){var i=e(this).outerHeight(!0),p=e("div.gppro-preview-fixed").offset().top;jQuery("div.gppro-preview-fixed").css("top",parseFloat(p)-parseFloat(i)),e(this).remove()})})}),jQuery("div.gppro-standard-input").each(function(){var e;jQuery("div.gppro-standard-wrap").on("click","input.gppro-standard-upload",function(p){var t=jQuery("input.gppro-standard-field").data("target"),r=jQuery("input.gppro-standard-field").data("selector");e?e.open():((e=wp.media.frames.file_frame=wp.media({title:adminData.uploadtitle,button:{text:adminData.uploadbutton},library:{type:"image"},multiple:!1})).on("select",function(){attachment=e.state().get("selection").first().toJSON(),i=attachment.sizes.full.url,jQuery("span.gppro-standard-preview").find("img.image-preview-image").remove(),jQuery("div.gppro-standard-input").find("input.gppro-standard-field").val(i),jQuery("span.gppro-standard-preview").append('<img class="image-preview-image" src="'+i+'">'),jQuery("div.gppro-frame-wrap").is(":visible")&&gppUploadPreview(t,r,i)}),e.open())})}),jQuery("div.gppro-retina-input").each(function(){var e;jQuery("div.gppro-retina-wrap").on("click","input.gppro-retina-upload",function(p){var t=jQuery("input.gppro-retina-field").data("target"),r=jQuery("input.gppro-standard-field").data("selector");e?e.open():((e=wp.media.frames.file_frame=wp.media({title:adminData.uploadtitle,button:{text:adminData.uploadbutton},library:{type:"image"},multiple:!1})).on("select",function(){attachment=e.state().get("selection").first().toJSON(),i=attachment.sizes.full.url,jQuery("span.gppro-retina-preview").find("img.image-preview-image").remove(),jQuery("div.gppro-retina-input").find("input.gppro-retina-field").val(i),jQuery("span.gppro-retina-preview").append('<img class="image-preview-image" src="'+i+'">'),jQuery("div.gppro-frame-wrap").is(":visible")&&gppRetinaPreview(t,r,i)}),e.open())})}),jQuery("div.gppro-favicon-input").divExists(function(){var e;jQuery("div.gppro-favicon-input").on("click","input.gppro-favicon-upload",function(){e?e.open():((e=wp.media.frames.file_frame=wp.media({title:adminData.favicontitle,button:{text:adminData.uploadbutton},library:{type:"image"},multiple:!1})).on("select",function(){attachment=e.state().get("selection").first().toJSON(),attachment&&""!==attachment.url&&""!==attachment.subtype&&-1!=jQuery.inArray(attachment.subtype,["x-icon","png","gif"])&&(i=attachment.url,jQuery("div.gppro-favicon-wrap").find("input.gppro-favicon-field").val(i))}),e.open())})}),e("form.gppro-support-form").on("click","input#gppro-support-request",function(i){if(i.preventDefault(),gppSupportFields(V),gppButtonDisable("input#gppro-support-request","img.support-processing"),""===(_=e(V).find("input#gppro_support_nonce").val()))return gppButtonEnable("input#gppro-support-request","img.support-processing"),!1;if(x=e(V).find("input#gppro-support-name").val(),C=e(V).find("input#gppro-support-email").val(),S=e(V).find("textarea#gppro-support-text").val(),""===x&&(e(V).find("input#gppro-support-name").addClass("user-error"),L=!0),""===C&&(e(V).find("input#gppro-support-email").addClass("user-error"),L=!0),""===S&&(e(V).find("textarea#gppro-support-text").addClass("user-error"),L=!0),!0===L)return gppButtonEnable("input#gppro-support-request","img.support-processing"),e("div.gppro-support-input p.gppro-support-submit").before('<p class="support-error">'+adminData.supporterror+"</p>"),!1;var p={action:"gppro_support_request",name:x,email:C,text:S,nonce:_};jQuery.post(ajaxurl,p,function(i){var p;gppButtonEnable("input#gppro-support-request","img.support-processing");try{p=jQuery.parseJSON(i)}catch(e){return!1}!0===p.success&&gppSupportSuccess(V,p.message),!1===p.success&&e("div.gppro-support-input p.gppro-support-disclaimer").before('<p class="support-error">'+p.message+"</p>")})})});